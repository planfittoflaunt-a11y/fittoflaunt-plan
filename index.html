<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>FITAXIS</title> <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#1E1E1E">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="FITAXIS">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png"> 
    
    <style>
      body { 
        font-family: sans-serif; 
        text-align: center; 
        padding-top: 50px; 
        background-color: #1E1E1E; /* Match Manifest Background */
        color: #f4f4f4; 
        height: 100vh;
        margin: 0;
      }
      .launch-button {
          padding: 15px 30px;
          background-color: #16a34a; /* Green Theme Color */
          color: white;
          border: none;
          border-radius: 8px;
          font-size: 1.1em;
          cursor: pointer;
          margin-top: 30px;
          text-decoration: none;
          display: inline-block;
      }
    </style>

    <script>
        // 1. CRITICAL: Force Service Worker registration immediately (runs before page loads)
        if ('serviceWorker' in navigator) {
            // Register immediately without waiting for 'load' event
            navigator.serviceWorker.register('/sw.js').catch(function(error) {
                console.error('SW registration failed:', error);
            });
        }
        
        // NO REDIRECT SCRIPT HERE. The user must click the button.
    </script>
</head>
<body>
    <div style="font-size: 1.5em; font-weight: bold;">Welcome to FITAXIS</div>
    <p>Please install the app to get the full-screen experience.</p>
    
    <a href="https://script.google.com/macros/s/AKfycbz3EcoshhmmuNYuBz5OkjjPUuJZTkWZy4Twhj9osTr71r_ZXr0uQ6i2rPDnnhCaO7Xg/exec" 
       class="launch-button" 
       target="_blank">
       Launch App
    </a>
</body>
</html>
